# 数据结构 {#chap:data-structure}


## 字符 {#sec:character}

## 向量 {#sec:vector}

## 矩阵 {#sec:matrix}

## 数组 {#sec:array}


## 列表 {#sec:list}


```{r}
ll <- list(a = 1, b = 2, c= list(d = c(1,2,3), e = "hello"))

base::print.simple.list(ll)
```

## 日期 {#sec:date}

`cut.Date()` 是一个泛型函数

```{r}
# 上个季度最后一天
# https://d.cosx.org/d/421162/16
as.Date(cut(as.Date(c("2001-02-01", "2001-05-02")), "quarter")) - 1
```

S3 方法

```{r}
methods(cut)
```

格式化输出日期类型数据

```{r}
formatC(round(runif(1, 1e8, 1e9)), digits = 10, big.mark = ",")
```

```{r}
# Sys.setlocale(locale = "C") # 如果是 Windows 系统，必须先设置，否则转化结果是 NA
as.Date(paste("1990-January", 1, sep = "-"), format = "%Y-%B-%d")
```

获取当日零点

```{r}
format(as.POSIXlt(Sys.Date()), "%Y-%m-%d %H:%M:%S")
```


Table: (\#tab:table-of-date) 日期表格

| Code | Meaning                       | Code | Meaning                                       |
| ---- | :---------------------------- | ---- | :-------------------------------------------- |
| `%a` | Abbreviated weekday           | `%A` | Full weekday                                  |
| `%b` | Abbreviated month             | `%B` | Full month                                    |
| `%c` | Locale-specific date and time | `%d` | Decimal date                                  |
| `%H` | Decimal hours (24 hour)       | `%I` | Decimal hours (12 hour)                       |
| `%j` | Decimal day of the year       | `%m` | Decimal month                                 |
| `%M` | Decimal minute                | `%p` | Locale-specific AM/PM                         |
| `%S` | Decimal second                | `%U` | Decimal week of the year (starting on Sunday) |
| `%w` | Decimal Weekday (0=Sunday)    | `%W` | Decimal week of the year (starting on Monday) |
| `%x` | Locale-specific Date          | `%X` | Locale-specific Time                          |
| `%y` | 2-digit year                  | `%Y` | 4-digit year                                  |
| `%z` | Offset from GMT               | `%Z` | Time zone (character)                         |


本节介绍了 R 本身提供的基础日期操作，第\@ref(chap:time-series-analysis)章着重介绍一般的时间序列类型的数据对象及其操作。
